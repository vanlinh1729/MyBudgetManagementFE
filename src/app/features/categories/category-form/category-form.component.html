<div class="flex flex-col h-full bg-white">
  <!-- Header -->
  <div class="flex items-center justify-between px-4 md:px-6 py-4 border-b border-[#e7edf3]">
    <div class="flex items-center gap-4">
      <button 
        (click)="onCancel()"
        class="p-2 hover:bg-[#f8fafc] rounded-lg transition-colors"
      >
        <i-lucide name="arrow-left" class="w-5 h-5 text-[#4e7397]"></i-lucide>
      </button>
      <div>
        <h1 class="text-[#0e141b] text-xl md:text-2xl font-bold">
          {{isEditMode ? 'Ch·ªânh s·ª≠a danh m·ª•c' : 'Th√™m danh m·ª•c m·ªõi'}}
        </h1>
        <p class="text-[#4e7397] text-sm">
          {{isEditMode ? 'C·∫≠p nh·∫≠t th√¥ng tin danh m·ª•c' : 'T·∫°o danh m·ª•c thu chi m·ªõi'}}
        </p>
      </div>
    </div>
  </div>

  <!-- Form -->
  <div class="flex-1 overflow-auto">
    <div class="max-w-2xl mx-auto p-4 md:p-6">
      <form [formGroup]="categoryForm" (ngSubmit)="onSubmit()" class="space-y-6">
        
        <!-- Name -->
        <div class="space-y-2">
          <label class="block text-sm font-medium text-[#0e141b]">
            T√™n danh m·ª•c <span class="text-red-500">*</span>
          </label>
          <input 
            type="text"
            formControlName="name"
            placeholder="Nh·∫≠p t√™n danh m·ª•c"
            class="w-full px-3 py-2 border border-[#e7edf3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4e7397]"
          >
        </div>

        <!-- Icon -->
        <div class="space-y-2">
          <label class="block text-sm font-medium text-[#0e141b]">
            Bi·ªÉu t∆∞·ª£ng <span class="text-red-500">*</span>
          </label>
          <input 
            type="text"
            formControlName="icon"
            placeholder="üí∞"
            class="w-full px-3 py-2 border border-[#e7edf3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4e7397]"
          >
          <p class="text-xs text-[#4e7397]">Nh·∫≠p emoji ho·∫∑c k√Ω t·ª± ƒë·∫°i di·ªán cho danh m·ª•c</p>
        </div>

        <!-- Type -->
        <div class="space-y-2">
          <label class="block text-sm font-medium text-[#0e141b]">
            Lo·∫°i danh m·ª•c <span class="text-red-500">*</span>
          </label>
          <select 
            formControlName="type"
            class="w-full px-3 py-2 border border-[#e7edf3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4e7397]"
          >
            <option [value]="CategoryType.Income">Thu nh·∫≠p</option>
            <option [value]="CategoryType.Expense">Chi ti√™u</option>
            <option [value]="CategoryType.Transfer">Chuy·ªÉn kho·∫£n</option>
          </select>
        </div>

        <!-- Level -->
        <div class="space-y-2">
          <label class="block text-sm font-medium text-[#0e141b]">
            C·∫•p ƒë·ªô <span class="text-red-500">*</span>
          </label>
          <select 
            formControlName="level"
            class="w-full px-3 py-2 border border-[#e7edf3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4e7397]"
          >
            <option [value]="CategoryLevel.Parent">Danh m·ª•c cha</option>
            <option [value]="CategoryLevel.Child">Danh m·ª•c con</option>
          </select>
        </div>

        <!-- Budget -->
        <div class="space-y-2">
          <label class="block text-sm font-medium text-[#0e141b]">
            Ng√¢n s√°ch (VNƒê)
          </label>
          <input 
            type="number"
            formControlName="budget"
            placeholder="0"
            step="1000"
            min="0"
            class="w-full px-3 py-2 border border-[#e7edf3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4e7397]"
          >
          <p class="text-xs text-[#4e7397]">ƒê·ªÉ tr·ªëng n·∫øu kh√¥ng mu·ªën gi·ªõi h·∫°n ng√¢n s√°ch</p>
        </div>

        <!-- Period -->
        <div class="space-y-2">
          <label class="block text-sm font-medium text-[#0e141b]">
            Chu k·ª≥ ng√¢n s√°ch <span class="text-red-500">*</span>
          </label>
          <select 
            formControlName="period"
            class="w-full px-3 py-2 border border-[#e7edf3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4e7397]"
          >
            <option [value]="Period.Daily">H√†ng ng√†y</option>
            <option [value]="Period.Weekly">H√†ng tu·∫ßn</option>
            <option [value]="Period.Monthly">H√†ng th√°ng</option>
            <option [value]="Period.Yearly">H√†ng nƒÉm</option>
          </select>
        </div>

        <!-- Is Default -->
        <div class="flex items-center gap-3">
          <input 
            type="checkbox"
            formControlName="isDefault"
            id="isDefault"
            class="w-4 h-4 text-[#4e7397] border-[#e7edf3] rounded focus:ring-[#4e7397] focus:ring-2"
          >
          <label for="isDefault" class="text-sm text-[#0e141b]">
            ƒê·∫∑t l√†m danh m·ª•c m·∫∑c ƒë·ªãnh
          </label>
        </div>

        <!-- Action Buttons -->
        <div class="flex flex-col sm:flex-row gap-3 pt-6">
          <button
            type="button"
            (click)="onCancel()"
            class="flex-1 px-4 py-2 border border-[#e7edf3] text-[#4e7397] rounded-lg hover:bg-[#f8fafc] transition-colors"
          >
            H·ªßy
          </button>
          <button
            type="submit"
            [disabled]="categoryForm.invalid || isSubmitting"
            class="flex-1 px-4 py-2 bg-[#0e141b] text-white rounded-lg hover:bg-[#1a202c] disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2"
          >
            <div *ngIf="isSubmitting" class="animate-spin rounded-full h-4 w-4 border-b-2 border-white"></div>
            <span>{{isEditMode ? 'C·∫≠p nh·∫≠t' : 'T·∫°o danh m·ª•c'}}</span>
          </button>
        </div>
      </form>
    </div>
  </div>
</div> 